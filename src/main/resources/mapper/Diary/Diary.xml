<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.lin.lysy.communicate.mapper.DiaryMapper">
    <sql id="selectDiary">select * from Diary</sql>
    <select id="findByDiaryId" resultType="com.lin.lysy.communicate.entity.Diary" parameterType="String">
        <include refid="selectDiary" />
        where DiaryId = #{DiaryId}
    </select>
    <insert id="addDiary" parameterType="com.lin.lysy.communicate.entity.Diary">
        insert into Diary
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="diary.selfID != null">
                selfID,
            </if>
            <if test="diary.title != null">
                title,
            </if>
            <if test="diary.content != null">
                content,
            </if>
            <if test="diary.image != null">
                image,
            </if>
            <if test="diary.date != null">
                date,
            </if>
            <if test="diary.DiaryId != null">
                DiaryId,
            </if>
            com_id,gra_id,com_num,gra_num
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="diary.selfID != null">
                #{diary.selfID,jdbcType=VARCHAR},
            </if>
            <if test="diary.title != null">
                #{diary.title,jdbcType=VARCHAR},
            </if>
            <if test="diary.content != null">
                #{diary.content,jdbcType=VARCHAR},
            </if>
            <if test="diary.image != null">
                #{diary.image,jdbcType=VARCHAR},
            </if>
            <if test="diary.date != null">
                #{diary.date,jdbcType=DATE},
            </if>
            <if test="diary.DiaryId != null">
                #{diary.DiaryId,jdbcType=INTEGER},
            </if>
            null,null,0,0
        </trim>
    </insert>
</mapper>